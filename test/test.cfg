process Demo =  {

untracked PSet maxEvents = { untracked int32 input = -1}
//source = PoolSource { untracked vstring fileNames = {
source = NewEventStreamFileReader { untracked vstring fileNames = {
	'file:/data1/kvtsang/test.dat'
}}

#keep the logging output to a nice level
#service = MessageLogger {}

service = MessageLogger{
	untracked vstring destinations = { "debugmessages.txt" }
	untracked vstring debugModule = { "*" }
	untracked vstring categories     = { "DebugHF","DebugHBHE" }
	untracked PSet debugmessages.txt = { 
		untracked string threshold = "DEBUG" 
		untracked PSet INFO = { untracked int32 limit = 0 }
      untracked PSet DEBUG = { untracked int32 limit = 0 }
		untracked PSet DebugHF = { untracked int32 limit = 20}
		untracked PSet DebugHBHE = { untracked int32 limit = -1}
	}
}

 
 ///Global configuration
 include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
 //off-line setting:
 replace GlobalTag.globaltag = "CRZT210_V1::All"
 replace GlobalTag.connect = "frontier://FrontierProd/CMS_COND_21X_GLOBALTAG"
 //on-line setting:
 #replace GlobalTag.globaltag = "CRUZET3_V2H::All"
 #replace GlobalTag.connect = "frontier://(proxyurl=http://localhost:3128)(serverurl=http://frontier1.cms:8000/FrontierOnProd)(serverurl=http://frontier2.cms:8000/FrontierOnProd)(retrieve-ziplevel=0)/CMS_COND_20X_GLOBALTAG"
es_prefer GlobalTag = PoolDBESSource {}

///Unpacking
module hcalDigis = hcalDigis from "EventFilter/HcalRawToDigi/data/HcalRawToDigi.cfi"
path upk = { hcalDigis }
path emu = { valHcalTriggerPrimitiveDigis }

///Emulator/Comparator
include "SimCalorimetry/HcalTrigPrimProducers/data/hcaltpdigi.cff"
module valHcalTriggerPrimitiveDigis = simHcalTriggerPrimitiveDigis from "SimCalorimetry/HcalTrigPrimProducers/data/hcaltpdigi.cfi"
replace valHcalTriggerPrimitiveDigis.inputLabel = hcalDigis

replace hcalDigis.FilterDataQuality = true
replace HcalTPGCoderULUT.read_Ascii_LUTs=true
replace HcalTPGCoderULUT.inputLUTs="RecoHcal/HcalTPGValidation/test/inputLUTcoder_CRUZET_part3_v2.dat"
replace CaloTPGTranscoder.hcalLUT1="RecoHcal/HcalTPGValidation/test/outputLUTtranscoder_CRUZET_part3_v2.dat"
replace simHcalTriggerPrimitiveDigis.FG_threshold = 2

service = TFileService{
	string fileName = "histo.root"
}

module HcalTPGValidation= HcalTPGValidation { 
	bool DebugHF = false
}

path p = {HcalTPGValidation} 

}
